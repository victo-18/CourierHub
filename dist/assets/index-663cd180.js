import{j as e,ad as ys,r as j,ak as c,aB as Le,aC as Me,aD as L,ax as se,aE as Cs,aF as Ss,aG as vs,aH as As}from"./vendor-1ab2b536.js";import{W as Be,q as Ts}from"./vendor_react-helmet-async-e1c0cc4e.js";import{u as F,a as ue,P as Ds}from"./vendor_react-redux-b2dee94b.js";import{L as ee,c as Es}from"./vendor_react-router-dom-0c303301.js";import{p as Is,a as Os,d as Rs,P as ks}from"./vendor_redux-persist-cfe0c065.js";import{S as U,a as ae,A as ie,b as _e,C as $e,T as oe,c as C,B as y,I as M,M as De,d as B,e as v,f as he,g as p,h as xe,P as ze,i as W,j as G,k as I,l as h,m as J,D as k,L as je,n as D,o as Ns,p as E,q as Fe,s as ws,u as Ps,t as qs,v as Ue,w as g,x as He,y as re,F as Ve,z as q,E as Ls,G as Ee,H as Ms,J as Ie,K as Oe,N as Bs,O as $,Q as _s,R as me,U as pe,V as fe,W as ge,X as $s,Y as We,Z as Ge,_ as Je,$ as Ze,a0 as zs,a1 as Fs,a2 as Us}from"./vendor_@mui/material-7e2f1b8d.js";import{c as Hs}from"./vendor_@reduxjs/toolkit-e54c8d32.js";import{d as Re,a as Ke,b as Vs,c as Ws,e as Gs,f as Js,g as Zs,h as Ks,i as Qs,j as T,k as Xs,l as Ys,m as Qe,n as er,o as sr,p as rr}from"./vendor_@mui/icons-material-7d02c0b1.js";import{a as b}from"./vendor_axios-4a70c6fc.js";import{C as ne,u as Xe}from"./vendor_react-hook-form-a89dac62.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();const Ye="ADD_SNACKBAR",es="REMOVE_SNACKBAR",z=(s,r,t)=>{const n=new Date().getTime().toString();return{type:Ye,payload:{id:n,message:s,severity:r,duration:t}}},nr=s=>({type:es,payload:{id:s}});function tr(s){return e.jsx(ie,{elevation:6,variant:"filled",...s})}function ar(){const{snackbars:s}=F(n=>n.snackbar),r=ue(),t=(n,o)=>{o!=="clickaway"&&r(nr(n))};return e.jsx(U,{className:"position-default",children:s.map(n=>e.jsx(ae,{open:n.open,autoHideDuration:n.duration,onClose:(o,a)=>t(n.id,a),children:e.jsx("div",{children:e.jsx(tr,{onClose:()=>t(n.id),severity:n.severity,children:n.message})})},n.id))})}const ir={snackbars:[]},or=(s=ir,r)=>{switch(r.type){case Ye:return{...s,snackbars:[...s.snackbars,{...r.payload,open:!0}]};case es:return{...s,snackbars:s.snackbars.filter(t=>t.id!==r.payload.id)};default:return s}},lr="AUTHORIZE",ss="UNAUTHORIZE",rs="SET_USER",ns="SET_TOKEN",cr=()=>({type:ss}),dr=(s,r="")=>({type:rs,payload:{user:s,token:r}}),ur=s=>({type:ns,payload:{token:s}}),ke={auth:!1,token:"",user:{}},hr=(s=ke,r)=>{switch(r.type){case lr:return{...s,auth:!0};case ss:return{...ke};case rs:return{...s,auth:!0,user:{...r.payload.user},token:r.payload.token};case ns:return{...s,token:r.payload.token};default:return s}},xr={key:"root",version:1,storage:Rs},jr=ys({snackbar:or,session:hr}),mr=Is(xr,jr),A=Hs({reducer:mr,middleware:s=>s({serializableCheck:!1})}),pr=Os(A);A.subscribe(()=>{console.log(A.getState())});const be="/assets/logo-6225825a.png",Ne=["empleados","Entregas","Solicitudes"],fr=["Perfil","Cuentas","Dashboard","Logout"];function Z(){const[s,r]=j.useState(null),[t,n]=j.useState(null),o=i=>{r(i.currentTarget)},a=i=>{n(i.currentTarget)},d=()=>{r(null)},l=()=>{n(null)};return e.jsx(_e,{id:"navbarmensajero",position:"static",children:e.jsx($e,{maxWidth:"xl",children:e.jsxs(oe,{disableGutters:!0,children:[e.jsx(Re,{sx:{display:{xs:"none",md:"flex"},mr:1}}),e.jsx(C,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"LOGO"}),e.jsxs(y,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[e.jsx(M,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:o,color:"inherit",children:e.jsx(Ke,{})}),e.jsx(De,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!s,onClose:d,sx:{display:{xs:"block",md:"none"}},children:Ne.map(i=>e.jsx(B,{onClick:d,children:e.jsx(C,{textAlign:"center",children:i})},i))})]}),e.jsx(Re,{sx:{display:{xs:"flex",md:"none"},mr:1}}),e.jsx(C,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"LOGO"}),e.jsx(y,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:Ne.map(i=>e.jsx(v,{onClick:d,sx:{my:2,color:"white",display:"block"},children:i},i))}),e.jsxs(y,{sx:{flexGrow:0},children:[e.jsx(he,{title:"Open settings",children:e.jsx(M,{onClick:a,sx:{p:0},children:e.jsx(p,{alt:"Remy Sharp",src:be})})}),e.jsx(De,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!t,onClose:l,children:fr.map(i=>e.jsx(B,{onClick:l,children:e.jsx(C,{textAlign:"center",children:i})},i))})]})]})})})}function H(s,r,t,n,o){return{name:s,address:r,typeOfPackage:t,status:n,courier:o}}const gr=[H("Johan Andres Ruiz Bermudez","Cr 90 cl 25 - 10","Electrodomestico","Entregado","Victor Alomia"),H("Victor Alfonso Alomia Angulo","Cr 90 cl 25 - 10","Papeleria","No entregado","Camilo Ceballos"),H("Andres Felipe Morenno ","Cr 90 cl 25 - 10","Cristaleria","Recogido","Cristian Presz"),H("Juan Sebatian Camino","Cr 90 cl 25 - 10","Peresederos","Recogido","Andres Moreno"),H("Mauricio Merlano Cano","Cr 90 cl 25 - 10","Delicado","No recogido","Cristian Mafla")];function te(){return e.jsxs(xe,{id:"tablaentrega",component:ze,children:[e.jsx(Z,{}),e.jsxs(W,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[e.jsx(G,{children:e.jsxs(I,{id:"nombres",children:[e.jsx(h,{children:"Nombre del cliente"}),e.jsx(h,{align:"right",children:"Dirección"}),e.jsx(h,{align:"right",children:"Numero y tipo de paquete"}),e.jsx(h,{align:"right",children:"Estado del paquete"}),e.jsx(h,{align:"right",children:"Nombre del mensajero"})]})}),e.jsx(J,{children:gr.map(s=>e.jsxs(I,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(h,{component:"th",scope:"row",children:s.name}),e.jsx(h,{align:"right",children:s.address}),e.jsx(h,{align:"right",children:s.typeOfPackage}),e.jsx(h,{align:"right",children:s.status}),e.jsx(h,{align:"right",children:s.courier})]},s.name))})]})]})}function br(){return e.jsxs("div",{className:"entregas",children:[e.jsx(Z,{}),e.jsxs("div",{className:"entregas__componente",children:[e.jsx(te,{}),e.jsx(te,{}),e.jsx(te,{})]})]})}const N={ALL:"ALL_ROLES",ADMINISTRADOR:"ADMIN",MENSAJERO:"COURIER",CLIENTE:"CLIENT"};function yr(){const{user:{role:s}}=F(r=>r.session);return s}function ts(s){const{children:r,window:t}=s,n=Ps({target:t?t():void 0});return e.jsx(qs,{appear:!1,direction:"down",in:!n,children:r})}ts.propTypes={children:c.element.isRequired,window:c.func};const Cr=240;function ye(s){const r=yr(),{window:t,children:n}=s,{ADMINISTRADOR:o,ALL:a}=N,[d,l]=j.useState(!1),i=()=>{l(u=>!u)},x=e.jsxs(y,{onClick:i,sx:{textAlign:"center"},children:[e.jsx(C,{variant:"h6",sx:{my:2},children:"MUI"}),e.jsx(k,{}),e.jsx(je,{children:de.map(u=>u.label&&(r==a||r==o||r==u.role)?e.jsx(D,{component:ee,to:u.path,disablePadding:!0,children:e.jsx(Ns,{sx:{textAlign:"center"},children:e.jsx(E,{primary:u.label})})},u.path):null)})]}),f=t!==void 0?()=>t().document.body:void 0;return e.jsxs(j.Fragment,{children:[e.jsx(Fe,{}),e.jsx(ts,{...s,children:e.jsx(_e,{component:"nav",children:e.jsxs(oe,{children:[e.jsx(M,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:i,sx:{mr:2,display:{sm:"none"}},children:e.jsx(Ke,{})}),e.jsx(C,{variant:"h6",component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"},textAlign:"left"},children:"CourierHub"}),e.jsx(y,{sx:{display:{xs:"none",sm:"block"}},children:de.map(u=>u.label&&(r==a||r==o||r==u.role)?e.jsx(v,{component:ee,to:u.path,sx:{color:"#fff"},children:u.label},u.path):null)})]})})}),e.jsx(y,{component:"nav",children:e.jsx(ws,{container:f,variant:"temporary",open:d,onClose:i,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Cr}},children:x})}),e.jsx(oe,{}),e.jsx($e,{sx:{p:"0px 8px !important"},children:n})]})}ye.propTypes={window:c.func,children:c.node};const K=(s,r=[])=>{const[t,n]=j.useState(null),[o,a]=j.useState(!0);return j.useEffect(()=>((async()=>{const{status:l,data:i}=await s();l===200&&(n(i),a(!1))})(),()=>{n(null),a(!0)}),r),[t,o]};function Sr(s){if(s.status===200){const r=s.headers;r.has("x-message")&&A.dispatch(z(r.get("x-message"),"success",6e3)),r.has("x-authorization")&&A.dispatch(ur(r.get("new-authorization")))}return s}function vr(s){const r=s.response.headers;if(r.has("x-message")&&A.dispatch(z(r.get("x-message"),"error",6e3)),r.has("x-code"))switch(r.get("x-code")){case"INVALID:TOKEN":location.href="/logout";break;case"UNAUTHORIZED":location.href="/dashboard";break}return Promise.reject(s)}function Ar(s){const r=A.getState().session.token;return s.headers.Authorization!==r&&(s.headers.Authorization=`${r}`),s}b.defaults.baseURL="/api/v1/";b.defaults.withCredentials=!0;b.interceptors.request.use(s=>Ar(s));b.interceptors.response.use(s=>Sr(s),s=>vr(s));function Tr(s){return b.post("login",s)}function Dr(){return b.get("user/profile")}function Er(s){return b.post("user/profile",s)}function Ir(){return b.get("request")}function Or(s){return b.post("request",s)}function Rr(s){return b.get("general/cities/"+s)}function kr(){return b.get("general/states/")}function Nr(){return b.get("general/transport/")}function wr(s){return b.get(`/delegates/${s}`)}function Pr(s){return b.get(`/branches/${s}`)}function qr(s){return b.post("/branches/crear",s)}function Lr(s){return b.put("/branches/modifica",s)}function Mr(s){return b.delete(`/branches/elimina/${s}`)}const Br={1:e.jsx(Vs,{}),2:e.jsx(Ws,{}),3:e.jsx(Gs,{})},_r=()=>{const s=Le();return{ENTREGADO:{content:"Entregado",color:s.palette.success.main},EN_CAMINO:{content:"En proceso",color:s.palette.warning.main},SOLICITADO:{content:"Solicitado",color:s.palette.info.main}}};function le(s){const{title:r,children:t,bgcolor:n,textSecondary:o,...a}=s;return e.jsxs(U,{alignItems:"center",...a,children:[e.jsx(he,{placement:"top",arrow:!0,title:r,children:e.jsx(p,{sx:{width:"32px",height:"32px",backgroundColor:n},children:t})}),e.jsx(C,{fontSize:"small",children:o})]})}le.propTypes={title:c.string,children:c.node,bgcolor:c.any,textSecondary:c.any};function as({shipment:s}){var i,x,f,u,S;const r=Le(),t=Ue(r.breakpoints.up("sm")),n=_r(),o=((i=s==null?void 0:s.Users[0])==null?void 0:i.firstname)+" "+((x=s==null?void 0:s.Users[0])==null?void 0:x.lastname),a=s==null?void 0:s.Transports[0],d=s==null?void 0:s.numberPackages,l=(f=s==null?void 0:s.ListStates[0])==null?void 0:f.phase;return e.jsxs(D,{secondaryAction:e.jsx(e.Fragment,{children:e.jsxs(U,{direction:"row",children:[e.jsx(le,{title:`Vehiculo: ${a.nameTransport}`,bgcolor:((u=n[l])==null?void 0:u.color)??"red",textSecondary:`${((S=n[l])==null?void 0:S.content)??"ERROR"}`,sx:{minWidth:"67px"},children:Br[a.id]}),e.jsx(le,{title:"Cantidad de paquetes",textSecondary:d,children:e.jsx(Js,{})})]})}),alignItems:"flex-start",sx:{width:t?"calc(50% - (8px * 0.2) * 2)":"calc(100% - (8px * 0.2) * 2)",border:1,borderColor:"divider",m:.2},className:"custom-item",children:[e.jsx(g,{children:e.jsx(p,{alt:`Una foto de perfil de ${o}`})}),e.jsx(E,{primary:o,secondary:e.jsxs(j.Fragment,{children:[e.jsx(C,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",noWrap:!0,children:s.destination}),"  — Nombre del mensajero"]})})]})}as.propTypes={shipment:c.object};function is({data:s,...r}){return e.jsx(je,{component:U,sx:{bgcolor:"background.paper",flexDirection:"row",flexWrap:"wrap"},...r,children:s.map(t=>e.jsx(as,{shipment:t},t.code))})}is.propTypes={data:c.array};function $r(){const{auth:s}=F(n=>n.session),[r,t]=K(Ir);return s?e.jsxs(y,{sx:{textAlign:"center"},children:[e.jsx(Be,{children:e.jsx("title",{children:"CourierHub"})}),e.jsx(ye,{children:t?e.jsx(He,{open:!0,sx:{zIndex:1,bgcolor:"background.paper"},children:e.jsx(re,{})}):e.jsx(is,{data:r})}),e.jsx(y,{sx:{position:"fixed",right:16,bottom:16},children:e.jsx(Ve,{LinkComponent:ee,color:"primary",to:"nuevo",children:e.jsx(Zs,{})})}),e.jsx(Me,{})]}):e.jsx(L,{to:"/login"})}const we="/assets/camion-7aec22fa.png";function zr(){return e.jsxs("div",{className:"container",children:[e.jsx(Z,{}),e.jsxs(je,{id:"list",sx:{width:"100%",Width:"100%",bgcolor:"background.paper",height:"100%"},children:[e.jsxs(D,{children:[e.jsx(g,{children:e.jsx(p,{className:"avatar",children:e.jsx(p,{alt:"icono usuario",src:be})})}),e.jsx(E,{primary:"Victor Alfonso Alomia",secondary:"Ocupado"}),e.jsx(g,{children:e.jsx(p,{className:"avatar",children:e.jsx(p,{alt:"imagen veiculo",src:we})})})]}),e.jsx(k,{variant:"inset",component:"li"}),e.jsxs(D,{children:[e.jsx(g,{children:e.jsx(p,{children:e.jsx(Ks,{})})}),e.jsx(E,{primary:"Johan Andres Ruiz Bermudez",secondary:"Disponible"}),e.jsx(g,{children:e.jsx(p,{className:"avatar",children:e.jsx(p,{alt:"imagen veiculo",src:we})})})]}),e.jsx(k,{variant:"inset",component:"li"}),e.jsxs(D,{children:[e.jsx(g,{children:e.jsx(p,{children:e.jsx(Qs,{})})}),e.jsx(E,{primary:"Vacation",secondary:"July 20, 2014"}),e.jsx(g,{children:e.jsx(p,{children:e.jsx(T,{})})})]}),e.jsx(k,{variant:"inset",component:"li"}),e.jsxs(D,{children:[e.jsx(g,{children:e.jsx(p,{children:e.jsx(T,{})})}),e.jsx(E,{primary:"Photos",secondary:"Jan 9, 2014"}),e.jsx(g,{children:e.jsx(p,{children:e.jsx(T,{})})})]}),e.jsx(k,{variant:"inset",component:"li"}),e.jsxs(D,{children:[e.jsx(g,{children:e.jsx(p,{children:e.jsx(T,{})})}),e.jsx(E,{primary:"Photos",secondary:"Jan 9, 2014"}),e.jsx(g,{children:e.jsx(p,{children:e.jsx(T,{})})})]}),e.jsx(k,{variant:"inset",component:"li"}),e.jsxs(D,{children:[e.jsx(g,{children:e.jsx(p,{children:e.jsx(T,{})})}),e.jsx(E,{primary:"Photos",secondary:"Jan 9, 2014"}),e.jsx(g,{children:e.jsx(p,{children:e.jsx(T,{})})})]}),e.jsx(k,{variant:"inset",component:"li"}),e.jsxs(D,{children:[e.jsx(g,{children:e.jsx(p,{children:e.jsx(T,{})})}),e.jsx(E,{primary:"Photos",secondary:"Jan 9, 2014"}),e.jsx(g,{children:e.jsx(p,{children:e.jsx(T,{})})})]}),e.jsx(k,{variant:"inset",component:"li"}),e.jsxs(D,{children:[e.jsx(g,{children:e.jsx(p,{children:e.jsx(T,{})})}),e.jsx(E,{primary:"Photos",secondary:"Jan 9, 2014"}),e.jsx(g,{children:e.jsx(p,{children:e.jsx(T,{})})})]}),e.jsx(k,{variant:"inset",component:"li"})]})]})}function Fr(){const[s,r]=j.useState({username:"",password:""}),[t,n]=j.useState(!1),[o,a]=j.useState(!1),d=se(),l=()=>{n(!t)},i=u=>{u.preventDefault()},x=async u=>{a(!0),u.preventDefault();try{const S=await Tr(s),{data:_,status:m}=S;m==200&&(A.dispatch(dr({..._.user},_.token)),d("/dashboard"))}finally{a(!1)}},f=u=>{const{id:S,value:_}=u.target;r(m=>({...m,[S]:_}))};return e.jsxs("form",{onSubmit:x,children:[e.jsx(q,{label:"Usuario",type:"text",id:"username",defaultValue:"",onChange:f,fullWidth:!0,margin:"normal"}),e.jsx(q,{label:"Contraseña",id:"password",type:t?"text":"password",defaultValue:"",onChange:f,fullWidth:!0,margin:"normal",InputProps:{endAdornment:e.jsx(M,{onClick:l,onMouseDown:i,edge:"end",children:t?e.jsx(Xs,{}):e.jsx(Ys,{})})}}),o?e.jsx(Ls,{}):e.jsx(v,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,autoFocus:!0,children:"Iniciar Sesión"})]})}const Ur="/assets/banner_login-3ce50afa.png";function Hr(){const{auth:s}=F(r=>r.session);return s?e.jsx(L,{to:"/dashboard"}):e.jsxs(y,{id:"login-page",children:[e.jsx(Be,{children:e.jsx("title",{children:"CourierHub - Inicio de sesion"})}),e.jsx(Ee,{component:"img",src:Ur,alt:"Banner",id:"banner"}),e.jsxs(y,{children:[e.jsx(C,{variant:"h4",children:"¡Hola de nuevo!"}),e.jsx(C,{variant:"h6",children:"Inicia sesión aquí para continuar tu aventura"}),e.jsx(Fr,{}),e.jsx(C,{sx:{marginTop:"32px"},children:"¿Olvidaste tu contraseña? Restablecela aqui"}),e.jsx(he,{title:"Sobre nosotros, CourierHub",children:e.jsx(Ee,{component:"img",src:be,alt:"Logo de la empresa",id:"logo"})})]})]})}function Vr(){const s=se();return j.useEffect(()=>{A.dispatch(cr()),s("/login")},[]),null}function Wr(){const s=Cs();return e.jsxs("div",{id:"error-page",children:[e.jsx("h1",{children:"Oops!"}),e.jsx("p",{children:"Lo sentimos, se ha producido un error inesperado."}),e.jsx("p",{children:e.jsx("i",{children:s?s.statusText||s.message:"404 NOT_FOUND"})})]})}function Gr(){return e.jsx(ye,{children:e.jsxs(y,{children:["Perfil 2.0",e.jsx(y,{sx:{position:"fixed",right:16,bottom:16},children:e.jsx(Ve,{LinkComponent:ee,color:"primary",to:"edit",children:e.jsx(Qe,{})})}),e.jsx(Me,{})]})})}function V(s,r,t,n,o){return{name:s,direccion:r,cantidad:t,descripcion:n,hora:o,history:[{date:"2020-01-05",customerId:"11091700",amount:3},{date:"2020-01-02",customerId:"Anonymous",amount:1}]}}function os(s){const{row:r}=s,[t,n]=j.useState(!1);return e.jsxs(j.Fragment,{children:[e.jsxs(I,{sx:{"& > *":{borderBottom:"unset"}},children:[e.jsx(h,{children:e.jsx(M,{"aria-label":"expand row",size:"small",onClick:()=>n(!t),children:t?e.jsx(er,{}):e.jsx(sr,{})})}),e.jsx(h,{component:"th",scope:"row",children:r.name}),e.jsx(h,{align:"right",children:r.calories}),e.jsx(h,{align:"right",children:r.fat}),e.jsx(h,{align:"right",children:r.carbs}),e.jsx(h,{align:"right",children:r.protein})]}),e.jsx(I,{children:e.jsx(h,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:e.jsx(Ms,{in:t,timeout:"auto",unmountOnExit:!0,children:e.jsxs(y,{sx:{margin:1},children:[e.jsx(C,{variant:"h6",gutterBottom:!0,component:"div",children:"History"}),e.jsxs(W,{size:"small","aria-label":"purchases",children:[e.jsx(G,{children:e.jsxs(I,{children:[e.jsx(h,{children:"Date"}),e.jsx(h,{children:"Customer"}),e.jsx(h,{align:"right",children:"Amount"}),e.jsx(h,{align:"right",children:"Total price ($)"})]})}),e.jsx(J,{children:r.history.map(o=>e.jsxs(I,{children:[e.jsx(h,{component:"th",scope:"row",children:o.date}),e.jsx(h,{children:o.customerId}),e.jsx(h,{align:"right",children:o.amount}),e.jsx(h,{align:"right",children:Math.round(o.amount*r.price*100)/100})]},o.date))})]})]})})})})]})}os.propTypes={row:c.shape({calories:c.number.isRequired,carbs:c.number.isRequired,fat:c.number.isRequired,history:c.arrayOf(c.shape({amount:c.number.isRequired,customerId:c.string.isRequired,date:c.string.isRequired})).isRequired,name:c.string.isRequired,price:c.number.isRequired,protein:c.number.isRequired}).isRequired};const Jr=[V("Frozen yoghurt",159,6,24,4),V("Ice cream sandwich",237,9,37,4.3),V("Eclair",262,16,24,6),V("Cupcake",305,3.7,67,4.3),V("Gingerbread",356,16,49,3.9)];function Zr(){return e.jsx(xe,{component:ze,children:e.jsxs(W,{"aria-label":"collapsible table",children:[e.jsx(G,{children:e.jsxs(I,{children:[e.jsx(h,{}),e.jsx(h,{children:"Dessert (100g serving)"}),e.jsx(h,{align:"right",children:"Calories"}),e.jsx(h,{align:"right",children:"Fat (g)"}),e.jsx(h,{align:"right",children:"Carbs (g)"}),e.jsx(h,{align:"right",children:"Protein (g)"})]})}),e.jsx(J,{children:Jr.map(s=>e.jsx(os,{row:s},s.name))})]})})}function ls(s){const[r,t]=j.useState(s.datos),n="USTED NO HA REALIZADO PEDIDOS TODAVÍA",o="USTED NO HA REGISTRADO SUCURSALES TODAVÍA",a=Ie(h)(({theme:i})=>({[`&.${Oe.head}`]:{backgroundColor:i.palette.primary.dark,color:i.palette.common.white},[`&.${Oe.body}`]:{fontSize:13}})),d=Ie(I)(({theme:i})=>({"&:nth-of-type(odd)":{backgroundColor:i.palette.action.hover}})),l=(i,x)=>{i=="editar"?(s.setTypeModal("editar"),s.setOpen(!0),s.setValores({nit:x.nit,name:x.name,address:x.address,phone:x.phone})):i=="eliminar"&&(s.setTypeModal("eliminar"),s.setOpen(!0),s.setValores({nit:x.nit}))};return e.jsx(xe,{sx:{maxHeight:600},children:s.tipo=="historial"?e.jsxs(W,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[e.jsx(G,{children:e.jsxs(I,{children:[e.jsx(a,{align:"center",children:"Fecha Solicitud"}),e.jsx(a,{align:"center",children:"Número Paquetes"}),e.jsx(a,{align:"center",children:"Descripción"}),e.jsx(a,{align:"center",children:"Dirección De Entrega"}),e.jsx(a,{align:"center",children:"Mensajero"})]})}),e.jsx(J,{children:r!==null?r.map(i=>e.jsxs(d,{children:[e.jsx(a,{component:"th",scope:"row","data-titulo":"Fecha Solicitud",align:"center",size:"medium",children:i.fecha}),e.jsx(a,{"data-titulo":"Número De Paquetes",align:"center",children:i.paquetes}),e.jsx(a,{"data-titulo":"Descripción",align:"center",children:i.descripcion}),e.jsx(a,{"data-titulo":"Destino",align:"center",children:i.direccion}),e.jsx(a,{"data-titulo":"Mensajero",align:"center",children:i.mensajero})]},i.fecha)):e.jsxs(d,{children:[e.jsx(a,{component:"th",scope:"row","data-titulo":"Fecha Solicitud",align:"center",children:r==null&alert(n)}),e.jsx(a,{"data-titulo":"Número De Paquetes",align:"center",children:" "}),e.jsx(a,{"data-titulo":"Descripción",align:"center",children:" "}),e.jsx(a,{"data-titulo":"Destino",align:"center",children:" "}),e.jsx(a,{"data-titulo":"Mensajero",align:"center",children:" "})]},"null")})]}):e.jsxs(W,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[e.jsx(G,{children:e.jsxs(I,{children:[e.jsx(a,{align:"center",children:"Nit"}),e.jsx(a,{align:"center",children:"Nombre"}),e.jsx(a,{align:"center",children:"Dirección"}),e.jsx(a,{align:"center",children:"Teléfono"}),e.jsx(a,{align:"center",children:"Opciones"})]})}),e.jsx(J,{children:r!==null?r.map(i=>e.jsxs(d,{children:[e.jsx(a,{component:"th",scope:"row","data-title":"Nit",align:"center",children:i.nit}),e.jsx(a,{"data-title":"Nombre",align:"center",children:i.name}),e.jsx(a,{"data-title":"Dirección",align:"center",children:i.address}),e.jsx(a,{"data-title":"Teléfono",align:"center",children:i.phone}),e.jsxs(a,{"data-title":"Opciones",align:"center",children:[e.jsx(M,{onClick:()=>l("editar",i),"aria-label":"edit",children:e.jsx(Qe,{})}),e.jsx(M,{onClick:()=>l("eliminar",i),"aria-label":"delete",children:e.jsx(rr,{})})]})]},i.nit)):e.jsxs(d,{children:[e.jsx(a,{component:"th",scope:"row","data-titulo":"Nit",align:"center",size:"medium",children:r==null&alert(o)}),e.jsx(a,{"data-titulo":"Nombre",align:"center",children:" "}),e.jsx(a,{"data-titulo":"Dirección",align:"center",children:" "}),e.jsx(a,{"data-titulo":"Teléfono",align:"center",children:" "}),e.jsx(a,{"data-titulo":"Opciones",align:"center",children:" "})]},"null")})]})})}function Kr(){const[s,r]=j.useState(!1),[t,n]=j.useState(""),o="sucursales",a=A.getState().session.user.phone,[d,l]=j.useState(!1),[i,x]=j.useState(!1),[f,u]=j.useState([!1]),[S,_]=K(()=>Pr(a),f),[m,X]=j.useState({nit:"",name:"",address:"",phone:""}),[O,w]=j.useState({nit:!1,name:!1,address:!1,phone:!1}),Se=()=>l(!1),ve=()=>x(!1),gs=P=>{P=="añadir"?(n("añadir"),r(!0),u([!1])):P=="editar"?(n("editar"),r(!0),u([!1])):P=="eliminar"&&(n("eliminar"),r(!0),u([!1]))},R=()=>{r(!1),X(""),w({nit:!1,name:!1,address:!1,phone:!1})},Y=P=>{X({...m,[P.target.name]:P.target.value}),w({nit:!1,name:!1,address:!1,phone:!1})},Ae=P=>{P.preventDefault(),console.log("esto es valida",O),t=="eliminar"?Mr(m.nit)?(R(),l(!0),u([!0])):(R(),x(!0)):m.nit==""&&m.name==""&&m.address==""&&m.phone==""?w({nit:!0,name:!0,address:!0,phone:!0}):m.nit==""?w({...O,nit:!0}):m.name==""?w({...O,name:!0}):m.address==""?w({...O,address:!0}):m.phone==""?w({...O,phone:!0}):(w({nit:!1,name:!1,address:!1,phone:!1}),t=="añadir"?(X({...m,customerId:S[0].customerId}),qr(m)?(R(),l(!0),u([!0])):(R(),x(!0))):t=="editar"&&(Lr(m)?(R(),l(!0),u([!0])):(R(),x(!0))))},bs={position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"background.paper",boxShadow:24,flexGrow:1,padding:4};return e.jsxs("div",{id:"panel",children:[e.jsxs(U,{spacing:2,sx:{width:"100%"},children:[e.jsx(ae,{open:d,autoHideDuration:6e3,onClose:Se,children:e.jsx(ie,{onClose:Se,severity:"success",sx:{width:"100%"},children:"¡Todo Ha Sido Exitoso!"})}),e.jsx(ae,{open:i,autoHideDuration:6e3,onClose:ve,children:e.jsx(ie,{onClose:ve,severity:"error",sx:{width:"100%"},children:"¡Ha Ocurrido Un Error, Intentalo Más Tarde!"})})]}),e.jsx("div",{id:"btn",children:e.jsx(v,{id:"miboton",onClick:()=>gs("añadir"),variant:"outlined",size:"large",children:"CREAR SUCURSAL"})}),e.jsx(Bs,{disableEscapeKeyDown:!0,hideBackdrop:!0,open:s,onClose:R,"aria-labelledby":"Ventana Modal",children:e.jsxs(y,{sx:bs,children:[e.jsx(C,{id:"tituloModal",align:"center",variant:"h6",component:"h2",children:t=="añadir"?"Crea Una Nueva Sucursal":t=="editar"?"Modifica La Sucursal":t=="eliminar"&&"¿Desea Eliminar La Sucursal?"}),t==""||t=="añadir"||t=="editar"?e.jsxs($,{container:!0,spacing:1,justifySelf:"center",children:[t=="añadir"&&e.jsxs($,{item:!0,xs:12,children:[e.jsx(q,{variant:"outlined",margin:"normal",label:"Nit",name:"nit",type:"text",defaultValue:m.nit,onChange:Y,size:"small",autoComplete:"off",fullWidth:!0}),O.nit!==!1&&e.jsx("span",{children:"Digite el nit de la sucursal"})]}),e.jsxs($,{item:!0,xs:12,children:[e.jsx(q,{variant:"outlined",margin:"normal",label:"Nombre",name:"name",type:"text",defaultValue:m.name,onChange:Y,size:"small",autoComplete:"off",fullWidth:!0}),O.name!==!1&&e.jsx("span",{children:"Digite el nombre de la sucursal"})]}),e.jsxs($,{item:!0,xs:12,children:[e.jsx(q,{variant:"outlined",margin:"normal",label:"Dirección",name:"address",type:"text",defaultValue:m.address,onChange:Y,size:"small",autoComplete:"off",fullWidth:!0}),O.address!==!1&&e.jsx("span",{children:"Digite la dirección de la sucursal"})]}),e.jsxs($,{item:!0,xs:12,children:[e.jsx(q,{variant:"outlined",margin:"normal",label:"Teléfono",name:"phone",type:"number",defaultValue:m.phone,onChange:Y,size:"small",autoComplete:"off",fullWidth:!0}),O.phone!==!1&&e.jsx("span",{children:"Digite el teléfono de la sucursal"})]}),e.jsxs("div",{id:"btns",children:[e.jsx(v,{id:"aceptar",onClick:Ae,children:"Aceptar"}),e.jsx(v,{id:"cancelar",onClick:R,children:"Cancelar"})]})]}):e.jsxs($,{container:!0,spacing:1,justifySelf:"center",children:[e.jsxs(C,{id:"descripcion",align:"center",variant:"h6",component:"h2",children:["Se eliminará la sucursal identificada con el nit: ",m.nit]}),e.jsxs("div",{id:"btns",children:[e.jsx(v,{id:"aceptar",onClick:Ae,children:"Aceptar"}),e.jsx(v,{id:"cancelar",onClick:R,children:"Cancelar"})]})]})]})}),_?e.jsx("div",{id:"tabla",children:e.jsx(y,{sx:{display:"flex"},children:e.jsx(re,{})})}):e.jsx("div",{id:"tabla",children:e.jsx(ls,{datos:S,tipo:o,setValores:X,setTypeModal:n,setOpen:r})})]})}function Qr(){const{auth:s}=F(r=>r.session);return s?e.jsxs("div",{className:"contenedorPpal",children:[e.jsx(Z,{}),e.jsx(Kr,{})]}):e.jsx(L,{to:"/dashboard"})}function Xr(){const s=A.getState().session.user.phone,[r,t]=K(()=>wr(s)),n="historial";return e.jsx("div",{id:"contenedorPpal",children:t?e.jsx("div",{id:"tabla",children:e.jsx(y,{sx:{display:"flex"},children:e.jsx(re,{})})}):e.jsx("div",{id:"tabla",children:e.jsx(ls,{datos:r,tipo:n})})})}function Yr(){const{auth:s}=F(r=>r.session);return s?e.jsxs("div",{id:"mainContainer",children:[e.jsx(Z,{}),e.jsx("div",{id:"component",children:e.jsx(Xr,{})})]}):e.jsx(L,{to:"/dashboard"})}function cs(s){return s!==void 0&&s!==""}function Q(){const s=_s();return Ue(s.breakpoints.down("md"))}function ds({input:s,control:r,rules:t}){const n=Q();return e.jsx(ne,{render:({field:o})=>{var a;return e.jsxs(me,{sx:{width:n?"calc(100% - 8px)":"calc(50% - 8px)",m:.5,...s==null?void 0:s.sx},children:[e.jsx(pe,{children:s.label}),e.jsxs(fe,{required:(a=s==null?void 0:s.rules)==null?void 0:a.required,value:(o==null?void 0:o.value)??"",label:s==null?void 0:s.label,onChange:o.onChange,children:[e.jsx(B,{value:!0,children:"SI"}),e.jsx(B,{value:!1,children:"NO"})]}),e.jsx(ge,{children:" "})]})},name:s.id,control:r,rules:{...t,validate:cs}})}ds.propTypes={input:c.object.isRequired,control:c.any,rules:c.object};const Pe={cityId:Rr,stateId:kr,transportId:Nr};function us({input:s,control:r,rules:t,watchRef:n}){var o;return s.dependsOn?n.current(s.dependsOn)?e.jsx(ce,{input:s,control:r,rules:t,dependencyValue:n.current(s.dependsOn)}):e.jsxs(me,{disabled:!0,sx:{width:"calc(50% - 8px)",m:.5,...s==null?void 0:s.sx},children:[e.jsx(pe,{children:s.label}),e.jsx(fe,{required:(o=s==null?void 0:s.rules)==null?void 0:o.required,value:"",label:s==null?void 0:s.label,children:e.jsx(B,{disabled:!0,children:"Cargando..."})}),e.jsx(ge,{children:" "})]}):e.jsx(ce,{input:s,control:r,rules:t,watchRef:n})}function ce({input:s,control:r,rules:t,dependencyValue:n}){const o=n?()=>Pe[s.id](n):Pe[s.id],a=n?[n]:[],[d,l]=K(o,a),i=s.label+(t.required?" *":""),x=Q();return l?e.jsx($s,{sx:{width:x?"calc(100% - 8px)":"calc(50% - 8px)",height:56,m:.5,...s==null?void 0:s.sx}}):e.jsx(ne,{render:({field:f})=>{var u;return e.jsxs(me,{sx:{width:x?"calc(100% - 8px)":"calc(50% - 8px)",m:.5,...s==null?void 0:s.sx},children:[e.jsx(pe,{children:i}),e.jsx(fe,{required:(u=s==null?void 0:s.rules)==null?void 0:u.required,value:(f==null?void 0:f.value)??"",label:i,onChange:f.onChange,children:l?e.jsx(B,{disabled:!0,children:"Cargando..."}):d==null?void 0:d.map(S=>e.jsx(B,{value:S.value,children:S.label},S.value))}),e.jsx(ge,{children:" "})]})},name:s.id,control:r,rules:{...t,validate:cs}})}ce.propTypes={input:c.object.isRequired,control:c.any,rules:c.object,dependencyValue:c.any};us.propTypes={input:c.object.isRequired,control:c.any,rules:c.object,watchRef:c.any};function hs(s,r){var o,a;const{id:t}=r;if(s[t]===void 0)return" ";const{type:n}=s[t];switch(n){case"required":return((o=r==null?void 0:r.helpers)==null?void 0:o[n])??"Completa este campo";case"pattern":return((a=r==null?void 0:r.helpers)==null?void 0:a[n])??"Por favor, revisa este campo"}}function xs({input:s,control:r,rules:t,sx:n}){const o=Q(),a=l=>{const{target:{value:i}}=l;return i===""||(l.target.value=i.trim()),l},d=(l,i)=>{l.onChange(a(i))};return e.jsx(ne,{render:({field:l,formState:{errors:i}})=>{var x;return e.jsx(q,{label:s.label,required:(x=s==null?void 0:s.rules)==null?void 0:x.required,error:i[s.id]!==void 0,helperText:hs(i,s),value:l.value??"",onChange:l.onChange,onBlur:f=>d(l,f),inputRef:l.ref,autoComplete:"none",sx:{width:o?"calc(100% - 8px)":"calc(50% - 8px)",m:.5,mb:0,...n}})},name:s.id,control:r,rules:{...t}})}xs.propTypes={input:c.object.isRequired,control:c.any,rules:c.object,sx:c.object};function js({input:s,control:r,rules:t,sx:n}){const o=Q(),a=l=>{const{target:{value:i}}=l;return i===""||(l.target.value=i.trim()),l},d=(l,i)=>{l.onChange(a(i))};return e.jsx(ne,{render:({field:l,formState:{errors:i}})=>{var x;return e.jsx(q,{required:(x=s==null?void 0:s.rules)==null?void 0:x.required,label:s.label,autoComplete:"none",error:i[s.id]!==void 0,helperText:hs(i,s),value:l.value??"",onChange:l.onChange,onBlur:f=>d(l,f),inputRef:l.ref,sx:{width:o?"calc(100% - 8px)":"calc(50% - 8px)",m:.5,...n}})},name:s.id,control:r,rules:t})}js.propTypes={input:c.object.isRequired,control:c.any,rules:c.object,sx:c.object};const ms={persona:[{label:"Telefono",id:"phone",type:"numeric",rules:{required:!0,pattern:/^\d+$/},helpers:{pattern:"Solo se permiten numeros"}},{label:"Nombres",id:"firstname",rules:{required:!0,pattern:/^(?=.*[a-zA-Z])\S.*$/}},{label:"Apellidos",id:"lastname",rules:{required:!0,pattern:/^(?=.*[a-zA-Z])\S.*$/}},{label:"Direccion",id:"address",rules:{required:!0}},{label:"Email",id:"email",rules:{required:!0,pattern:/^[a-zA-Z0-9._%+-]+@(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}$/}},{label:"Nueva contraseña",id:"password",rules:{required:!1}},{label:"Departamento",id:"stateId",type:"select",rules:{required:!0}},{label:"Ciudad",id:"cityId",type:"select",dependsOn:"stateId",rules:{required:!0}}],request:[{label:"Descripcion del pedido",id:"description",rules:{required:!0}},{label:"Origen",id:"origin",rules:{required:!0}},{label:"Destino",id:"destination",rules:{required:!0}},{label:"Numero de paquetes",id:"numberPackages",type:"numeric",rules:{required:!0,pattern:/^\d+$/},helpers:{pattern:"Solo se permiten numeros"}},{label:"Tipo de transporte",id:"transportId",type:"select",rules:{required:!0}}]},en={default:xs,select:us,numeric:js,boolean:ds};function Ce(s){const{arr:r,...t}=s;return e.jsx(U,{flexDirection:"row",justifyContent:"center",flexWrap:"wrap",children:r.map(n=>{const o=en[n.type??"default"];return e.jsx(o,{input:n,...t,rules:n.rules},n.id)})})}Ce.propTypes={arr:c.array.isRequired};function qe(s){return Object.fromEntries(Object.entries(s).filter(([t,n])=>n!==void 0&&n!==""))}function sn(){const[s,r]=K(Dr);return r?e.jsx(He,{open:!0,children:e.jsx(re,{})}):e.jsx(ps,{userdata:s})}function ps({userdata:s}){const r=se(),{handleSubmit:t,control:n,watch:o}=Xe({defaultValues:{...s}}),a=j.useRef(o),d=ue(),l=async x=>{console.log(x),console.log(qe(x));const{status:f,response:u}=await Er(qe(x));f===200?(d(z("¡Cliente añadido correctamente!","success")),i()):d(z((u==null?void 0:u.data)??"NO se ha podido añadir el cliente","warning"))},i=()=>{r(-1)};return e.jsxs(We,{open:!0,fullWidth:!0,maxWidth:"lg",children:[e.jsx(Ge,{children:"Editar perfil"}),e.jsx(Je,{children:e.jsx("form",{onSubmit:t(l),children:e.jsx(Ce,{arr:ms.persona,control:n,watchRef:a})})}),e.jsxs(Ze,{children:[e.jsx(v,{onClick:i,children:"Cancelar"}),e.jsx(v,{onClick:t(l),children:"Guardar"})]})]})}ps.propTypes={userdata:c.any};function rn(){const{handleSubmit:s,control:r}=Xe(),t=Q(),n=se(),o=ue(),a=async l=>{console.log(l);const{status:i}=await Or(l);i==200?(o(z("¡El pedido ha sido solicitado!","success")),d()):o(z("Se ha producido un error, intentalo mas tarde","error"))},d=()=>{n(-1)};return e.jsxs(We,{open:!0,onClose:d,fullScreen:t,children:[e.jsx(Ge,{children:"Solicitar un envio"}),e.jsxs(Je,{children:[e.jsx(zs,{sx:{mb:1},children:"Para solicitar un nuevo envio, por favor completa toda la informacion siguiente"}),e.jsx("form",{onSubmit:s(a),children:e.jsx(Ce,{arr:ms.request,control:r})})]}),e.jsxs(Ze,{children:[e.jsx(v,{onClick:d,children:"Cancelar"}),e.jsx(v,{onClick:s(a),children:"Solicitar"})]})]})}function nn(){return e.jsx(e.Fragment,{children:e.jsx(rn,{})})}const de=[{path:"/dashboard",label:"Inicio",role:N.CLIENTE,element:e.jsx($r,{}),children:[{path:"nuevo",element:e.jsx(nn,{})}]},{path:"/nuevospedidos",label:"Nuevos pedidos",role:N.ADMINISTRADOR,element:e.jsx(Zr,{})},{path:"/mensajero",label:"Mensajeros",role:N.ADMINISTRADOR,element:e.jsx(zr,{})},{path:"/login",element:e.jsx(Hr,{})},{path:"/entregas",label:"Entregas",role:N.MENSAJERO,element:e.jsx(br,{})},{path:"/profile",label:"Perfil",role:N.ALL,element:e.jsx(Gr,{}),children:[{path:"edit",element:e.jsx(sn,{})}]},{path:"/sucursales",label:"Sucursales",role:N.CLIENTE,element:e.jsx(Qr,{})},{path:"/historialpedidos",label:"Historial",role:N.CLIENTE,element:e.jsx(Yr,{})},{path:"/logout",label:"Cerrar sesion",role:N.ALL,element:e.jsx(Vr,{})},{children:[{element:e.jsx(L,{to:"/dashboard"}),index:!0},{path:"404",element:e.jsx(Wr,{})},{path:"*",element:e.jsx(L,{to:"/404"})}]},{path:"*",element:e.jsx(L,{to:"/404",replace:!0})}];const tn={common:{black:"#000",white:"#fff",rose:"#FFD6BA"},primary:{main:"#555B6E",contrastText:"#fff"},secondary:{main:"#89B0AE",contrastText:"#000"},background:{paper:"#FAF9F9"}};fs.propTypes={children:c.node};function fs({children:s}){const r=j.useMemo(()=>({palette:tn}),[]),t=Fs(r);return e.jsx(Ss,{injectFirst:!0,children:e.jsxs(Us,{theme:t,children:[e.jsx(Fe,{}),s]})})}const an=Es(de);vs.createRoot(document.getElementById("root")).render(e.jsx(Ds,{store:A,children:e.jsx(ks,{loading:null,persistor:pr,children:e.jsx(Ts,{children:e.jsxs(fs,{children:[e.jsx(ar,{}),e.jsx(As,{router:an})]})})})}));
