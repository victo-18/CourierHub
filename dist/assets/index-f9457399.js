import{j as e,af as Is,am as d,r as f,al as T,aD as Ze,aE as Ps,aF as W,az as le,aG as Os,aH as Es,aI as ws,aJ as Rs}from"./vendor-1dbe8300.js";import{W as Je,q as Ns}from"./vendor_react-helmet-async-11a1fde6.js";import{u as K,a as Te,P as qs}from"./vendor_react-redux-d733d250.js";import{L as te,c as Ls}from"./vendor_react-router-dom-497ee369.js";import{p as Fs,a as _s,d as zs,P as Bs}from"./vendor_redux-persist-bdaea0f4.js";import{S as Q,a as be,A as Z,B as g,b as u,D as O,L as X,c as E,d as ce,e as P,C as Ke,f as Qe,g as ye,I as _,h as D,i as Ms,j as Xe,k as Us,l as $s,G as I,m as de,n as De,o as ue,p as ee,q as se,t as Ye,v as ke,w as Hs,x as Ws,y as Vs,z as Gs,P as es,E as me,F as ss,H as A,J as y,K as Ie,M as ns,N as xe,O as rs,Q as _e,R as V,U,V as Zs,W as ze,X as Js,Y as Pe,Z as Oe,_ as Ee,$ as we,a0 as ts,a1 as ae,a2 as oe,a3 as $,a4 as S,a5 as ie,a6 as Ks,s as Be,a7 as Me,a8 as Qs,a9 as Xs,aa as Ys,ab as en}from"./vendor_@mui/material-c08ed790.js";import{c as sn}from"./vendor_@reduxjs/toolkit-2b89772f.js";import{d as as,a as Se,b as Re,c as nn,e as rn,f as tn,g as an,h as on,i as ln,j as Ue,k as cn,l as dn,m as L,n as un,o as xn,p as os,q as hn,r as jn,s as pn}from"./vendor_@mui/icons-material-805b5cd2.js";import{a as b}from"./vendor_axios-4a70c6fc.js";import{T as mn,a as fn,b as fe}from"./vendor_@mui/lab-bcc92584.js";import{C as he,u as is}from"./vendor_react-hook-form-a553c46a.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function o(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(i){if(i.ep)return;i.ep=!0;const a=o(i);fetch(i.href,a)}})();const ls="ADD_SNACKBAR",cs="REMOVE_SNACKBAR",J=(s,n,o)=>{const t=new Date().getTime().toString();return{type:ls,payload:{id:t,message:s,severity:n,duration:o}}},gn=s=>({type:cs,payload:{id:s}});function bn(s){return e.jsx(Z,{elevation:6,variant:"filled",...s})}function yn(){const{snackbars:s}=K(t=>t.snackbar),n=Te(),o=(t,i)=>{i!=="clickaway"&&n(gn(t))};return e.jsx(Q,{className:"position-default",children:s.map(t=>e.jsx(be,{open:t.open,autoHideDuration:t.duration,onClose:(i,a)=>o(t.id,a),children:e.jsx("div",{children:e.jsx(bn,{onClose:()=>o(t.id),severity:t.severity,children:t.message})})},t.id))})}const Sn={snackbars:[]},vn=(s=Sn,n)=>{switch(n.type){case ls:return{...s,snackbars:[...s.snackbars,{...n.payload,open:!0}]};case cs:return{...s,snackbars:s.snackbars.filter(o=>o.id!==n.payload.id)};default:return s}},Cn="AUTHORIZE",ds="UNAUTHORIZE",us="SET_USER",xs="SET_TOKEN",An=()=>({type:ds}),Tn=(s,n="")=>({type:us,payload:{user:s,token:n}}),Dn=s=>({type:xs,payload:{token:s}}),$e={auth:!1,token:"",user:{}},kn=(s=$e,n)=>{switch(n.type){case Cn:return{...s,auth:!0};case ds:return{...$e};case us:return{...s,auth:!0,user:{...n.payload.user},token:n.payload.token};case xs:return{...s,token:n.payload.token};default:return s}},In={key:"root",version:1,storage:zs},Pn=Is({snackbar:vn,session:kn}),On=Fs(In,Pn),w=sn({reducer:On,middleware:s=>s({serializableCheck:!1})}),En=_s(w);w.subscribe(()=>{console.log(w.getState())});const B={ALL:"ALL_ROLES",ADMINISTRADOR:"ADMIN",MENSAJERO:"COURIER",CLIENTE:"CLIENT"};function wn(){const{user:{role:s}}=K(n=>n.session);return s}function hs(s){const{children:n,window:o}=s,t=Us({target:o?o():void 0});return e.jsx($s,{appear:!1,direction:"down",in:!t,children:n})}hs.propTypes={children:d.element.isRequired,window:d.func};const Rn=240;function je(s){const n=wn(),{window:o,children:t}=s,{ADMINISTRADOR:i,ALL:a}=B,[c,l]=f.useState(!1),r=()=>{l(x=>!x)},h=e.jsxs(g,{onClick:r,sx:{textAlign:"center"},children:[e.jsx(u,{variant:"h6",sx:{my:2},children:"MUI"}),e.jsx(O,{}),e.jsx(X,{children:Ae.map(x=>x.label&&(n==a||n==i||n==x.role)?e.jsx(E,{component:te,to:x.path,disablePadding:!0,children:e.jsx(ce,{sx:{textAlign:"center"},children:e.jsx(P,{primary:x.label})})},x.path):null)})]}),p=o!==void 0?()=>o().document.body:void 0;return e.jsxs(f.Fragment,{children:[e.jsx(Ke,{}),e.jsx(hs,{...s,children:e.jsx(Qe,{component:"nav",children:e.jsxs(ye,{children:[e.jsx(_,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:r,sx:{mr:2,display:{sm:"none"}},children:e.jsx(as,{})}),e.jsx(u,{variant:"h6",component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"},textAlign:"left"},children:"CourierHub"}),e.jsx(g,{sx:{display:{xs:"none",sm:"block"}},children:Ae.map(x=>x.label&&(x.role==a||n==i||n==x.role)?e.jsx(D,{component:te,to:x.path,sx:{color:"#fff"},children:x.label},x.path):null)})]})})}),e.jsx(g,{component:"nav",children:e.jsx(Ms,{container:p,variant:"temporary",open:c,onClose:r,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Rn}},children:h})}),e.jsx(ye,{}),e.jsx(Xe,{sx:{p:"0px 8px !important"},children:t})]})}je.propTypes={window:d.func,children:d.node};const H=(s,n=[])=>{const[o,t]=f.useState(null),[i,a]=f.useState(!0);return f.useEffect(()=>((async()=>{const{status:l,data:r}=await s();l===200&&(t(r),a(!1))})(),()=>{t(null),a(!0)}),n),[o,i]};function Nn(s){if(s.status===200){const n=s.headers;n.has("x-message")&&w.dispatch(J(n.get("x-message"),"success",6e3)),n.has("x-authorization")&&w.dispatch(Dn(n.get("new-authorization")))}return s}function qn(s){const n=s.response.headers;if(n.has("x-message")&&w.dispatch(J(n.get("x-message"),"error",6e3)),n.has("x-code"))switch(n.get("x-code")){case"INVALID:TOKEN":location.href="/logout";break;case"UNAUTHORIZED":location.href="/dashboard";break}return Promise.reject(s)}function Ln(s){const n=w.getState().session.token;return s.headers.Authorization!==n&&(s.headers.Authorization=`${n}`),s}b.defaults.baseURL="/api/v1/";b.defaults.withCredentials=!0;b.interceptors.request.use(s=>Ln(s));b.interceptors.response.use(s=>Nn(s),s=>qn(s));function Fn(s){return b.post("login",s)}function _n(){return b.get("user/profile")}function zn(s){return b.post("user/profile",s)}function Bn(){return b.get("request")}function Mn(s){return b.post("request",s)}function Un(s){return b.get("general/cities/"+s)}function $n(){return b.get("general/states/")}function Hn(){return b.get("general/transport/")}function Wn(s){return b.get(`/delegates/${s}`)}function Vn(s){return b.get(`/branches/${s}`)}function Gn(s){return b.post("/branches/crear",s)}function Zn(s){return b.put("/branches/modifica",s)}function Jn(s){return b.delete(`/branches/elimina/${s}`)}function Kn(){return b.get("/request/inProgress")}function Qn(){return b.get("/request/onWay")}function Xn(){return b.get("/request/finished")}function Yn(s){return b.post("/request/updateStatus1",{code:s})}function er(s){return b.post("/imgFileF",s)}function sr(s){return b.post("/imgFileS",s)}function nr(){const[s,n]=T.useState(!1),[o,t]=T.useState(!1),[i,a]=T.useState(!1),[c,l]=H(Kn,[i]),[r,h]=T.useState(),[p,x]=T.useState(""),C=m=>{h(m),n(!0)},R=()=>{a(m=>!m),n(!1),x("")},j=async m=>{n(!1),console.log(m),await Yn(m),await sr(p),t(!0),a(k=>!k)},M=(m,k)=>{console.log(k);const z=new FormData;z.append("file",m),z.append("code",k),x(z),console.log(z)};return e.jsxs(I,{container:!0,columns:1,justifyContent:"center",children:[e.jsxs(I,{item:!0,xs:1,children:[o===!0&&e.jsx(Z,{severity:"success",action:e.jsx(_,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{t(!1)},children:e.jsx(Se,{fontSize:"inherit"})}),sx:{mb:2},children:"se acepto exitosamente el pedido"}),e.jsx(u,{variant:"h6",color:"inherit",component:"div",children:"Pedidos Disponibles"})]}),e.jsxs(I,{item:!0,xs:1,children:[e.jsx(X,{sx:{width:"100%",bgcolor:"background.paper",overflow:"auto"},children:l?e.jsx(de,{variant:"text",sx:{fontSize:"1rem"}}):c.map(m=>e.jsxs(g,{children:[e.jsxs(ce,{onClick:()=>C(m),children:[e.jsx(De,{children:e.jsx(Re,{})}),e.jsx(P,{children:e.jsxs(f.Fragment,{children:[e.jsx(u,{children:"Pedido: "+m.code}),e.jsx(u,{children:"Recoger en: "+m.origin}),e.jsx(u,{children:"transportar en: "+m.Transports[0].nameTransport})]})})]}),e.jsx(O,{})]},m.code))}),r&&e.jsxs(ue,{open:s,onClose:R,"aria-labelledby":"alert-dialog-title",children:[e.jsx(ee,{id:"alert-dialog-title",children:"Pedido "+r.code}),e.jsxs(se,{children:[e.jsx(u,{children:"Recoger en: "+r.origin}),e.jsx(u,{children:"Destino: "+r.destination}),e.jsx(u,{children:"Nombre cliente: "+r.Users[0].firstname+" "+r.Users[0].lastname}),e.jsx(u,{children:"  Telefono de contacto: "+r.Users[0].phone}),e.jsx(u,{children:"  Descripcion: "+r.description}),e.jsx(u,{children:"transportar en: "+r.Transports[0].nameTransport}),e.jsx(u,{children:"  Cantidad: "+r.numberPackages}),e.jsx(g,{children:e.jsx(Ye,{sx:{mt:1,mr:1},type:"file",variant:"outlined",name:"file",onChange:m=>M(m.target.files[0],r.ListStates[0].id)})})]}),e.jsxs(ke,{children:[e.jsx(D,{onClick:R,children:"Cancelar"}),e.jsx(D,{disabled:p=="",onClick:()=>j(r.code),autoFocus:!0,children:"Aceptar"})]})]})]})]})}const ge=[{label:"Pedido en recorrido",description:"Estas en Camino, solo da en continuar cuando llegues al destino",foto:"no"},{label:"Entrega realizada",description:"Coloca la foto que muestra que el pedido llego al destino",foto:"si"}];function rr(){const[s,n]=T.useState(!1),[o,t]=T.useState(!1),[i,a]=T.useState(!1);T.useState(!1);const[c,l]=T.useState(0),[r,h]=T.useState(""),[p,x]=T.useState(!1),[C,R]=H(Qn,[p]),[j,M]=T.useState(),m=new FormData,k=v=>{M(v),n(!0)},z=()=>{n(!1),l(0)},re=v=>{r==""&&c>0&&a(!0),r!=""?(m.append("file",r),m.append("code",v),console.log(C),console.log(m),er(m),l(q=>q+1)):(console.log(C),console.log(j),l(q=>q+1))},pe=()=>{l(v=>v-1)},N=v=>{h(v)},G=v=>{t(!0),x(!0),n(!1),l(0)};return e.jsxs(I,{container:!0,columns:1,justifyContent:"center",children:[e.jsxs(I,{item:!0,xs:1,children:[o===!0&&e.jsx(Z,{severity:"success",action:e.jsx(_,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{t(!1)},children:e.jsx(Se,{fontSize:"inherit"})}),sx:{mb:2},children:"se completo exitosamente la entrega del pedido"}),e.jsx(u,{variant:"h6",color:"inherit",component:"div",children:"Encargos en proceso"})]}),e.jsxs(I,{item:!0,xs:1,children:[e.jsx(X,{sx:{width:"100%",bgcolor:"background.paper",overflow:"auto"},children:R?e.jsx(de,{variant:"text",sx:{fontSize:"1rem"}}):C.map(v=>e.jsxs(g,{children:[e.jsx(E,{children:e.jsxs(ce,{onClick:()=>k(v),children:[e.jsx(De,{children:e.jsx(Re,{})}),e.jsx(P,{children:e.jsxs(f.Fragment,{children:[e.jsx(u,{children:"Pedido: "+v.code}),e.jsx(u,{children:"En Camino a: "+v.destination})]})})]})}),e.jsx(O,{})]},v.code))}),j&&e.jsxs(ue,{open:s,onClose:z,"aria-labelledby":"alert-dialog-title",children:[e.jsx(ee,{id:"alert-dialog-title",children:"Pedido "+j.code}),e.jsxs(se,{children:[e.jsx(u,{children:"Nombre cliente: "+j.Users[0].firstname+" "+j.Users[0].lastname}),e.jsx(u,{children:"  Telefono de contacto: "+j.Users[0].phone}),e.jsx(u,{children:"Fue recogido en: "+j.origin}),e.jsx(u,{children:"  Descripcion: "+j.description}),e.jsx(u,{children:"  Cantidad: "+j.numberPackages}),e.jsxs(g,{sx:{maxWidth:400},children:[e.jsx(Hs,{activeStep:c,orientation:"vertical",children:ge.map((v,q)=>e.jsxs(Ws,{children:[e.jsx(Vs,{optional:q===2?e.jsx(u,{variant:"caption",children:"Paso final"}):null,children:v.label}),e.jsxs(Gs,{children:[e.jsx(u,{children:v.description}),e.jsx(g,{sx:{mb:2},children:e.jsxs("div",{children:[q==1&&e.jsx(Ye,{sx:{mt:1,mr:1},type:"file",variant:"outlined",name:"file",disabled:q===0,onChange:F=>N(F.target.files[0])}),e.jsx(D,{variant:"contained",type:"submit",onClick:()=>{re(j.code)},sx:{mt:1,mr:1},children:q===ge.length-1?"Finalizar":"continuar"}),e.jsx(D,{variant:"contained",disabled:q===0,onClick:pe,sx:{mt:1,mr:1},children:"regresar"})]})})]})]},v.label))}),c===ge.length&&e.jsxs(es,{square:!0,elevation:0,sx:{p:3},children:[e.jsx(u,{children:"Todo completado Finaliza el pedido"}),e.jsx(D,{onClick:G,sx:{mt:1,mr:1},children:"finalizar pedido"})]})]}),i===!0&&e.jsx(Z,{severity:"info",action:e.jsx(_,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{a(!1)},children:e.jsx(Se,{fontSize:"inherit"})}),sx:{mb:2},children:"ingrese una foto del pedido"})]})]})]})]})}function tr(){const[s,n]=T.useState(!1),[o,t]=T.useState(!1),[i,a]=H(Xn,[o]),[c,l]=T.useState(),r=p=>{l(p),n(!0)},h=()=>{n(!1)};return e.jsxs(I,{container:!0,columns:1,justifyContent:"center",children:[e.jsx(I,{item:!0,xs:1,children:e.jsx(u,{variant:"h6",color:"inherit",component:"div",children:"Historial de pedidos"})}),e.jsxs(I,{item:!0,xs:1,children:[e.jsx(X,{sx:{width:"100%",bgcolor:"background.paper",overflow:"auto"},children:a?e.jsx(de,{variant:"text",sx:{fontSize:"1rem"}}):i.map(p=>e.jsxs(g,{children:[e.jsx(E,{children:e.jsxs(ce,{onClick:()=>r(p),children:[e.jsx(De,{children:e.jsx(Re,{})}),e.jsx(P,{primary:p.ListStates[0].date,secondary:"Pedido:"+p.code})]})}),e.jsx(O,{})]},p.code))}),c&&e.jsxs(ue,{open:s,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(ee,{id:"alert-dialog-title",children:"Pedido: "+c.code}),e.jsxs(se,{children:[e.jsx(u,{children:"Recogido en: "+c.origin}),e.jsx(u,{children:"El destino fue: "+c.destination}),e.jsx(u,{children:"Nombre cliente: "+c.Users[0].firstname+" "+c.Users[0].lastname}),e.jsx(u,{children:"  Telefono de contacto: "+c.Users[0].phone}),e.jsx(u,{children:"  Descripcion: "+c.description}),e.jsx(u,{children:"transportado en: "+c.Transports[0].nameTransport}),e.jsx(u,{children:"  Cantidad: "+c.numberPackages})]})]})]})]})}function ar(){const[s,n]=T.useState("1"),o=(t,i)=>{n(i)};return e.jsxs(mn,{value:s,children:[e.jsx(g,{sx:{borderBottom:1,borderColor:"divider",mt:.5},children:e.jsxs(fn,{centered:!0,onChange:o,children:[e.jsx(me,{label:"Busqueda",value:"1"}),e.jsx(me,{label:"En Proceso",value:"2"}),e.jsx(me,{icon:e.jsx(nn,{}),value:"3"})]})}),e.jsx(fe,{value:"1",children:e.jsx(nr,{})}),e.jsx(fe,{value:"2",children:e.jsx(rr,{})}),e.jsx(fe,{value:"3",children:e.jsx(tr,{})})]})}function or(){return e.jsxs(g,{children:[e.jsx(je,{}),e.jsx(ar,{})]})}const ir={1:e.jsx(rn,{}),2:e.jsx(tn,{}),3:e.jsx(an,{})},lr=()=>{const s=Ze();return{ENTREGADO:{content:"Entregado",color:s.palette.success.main},EN_CAMINO:{content:"En proceso",color:s.palette.warning.main},SOLICITADO:{content:"Solicitado",color:s.palette.info.main}}};function ve(s){const{title:n,children:o,bgcolor:t,textSecondary:i,...a}=s;return e.jsxs(Q,{alignItems:"center",...a,children:[e.jsx(Ie,{placement:"top",arrow:!0,title:n,children:e.jsx(y,{sx:{width:"32px",height:"32px",backgroundColor:t},children:o})}),e.jsx(u,{fontSize:"small",children:i})]})}ve.propTypes={title:d.string,children:d.node,bgcolor:d.any,textSecondary:d.any};function js({shipment:s}){var r,h,p,x,C;const n=Ze(),o=ss(n.breakpoints.up("sm")),t=lr(),i=((r=s==null?void 0:s.Users[0])==null?void 0:r.firstname)+" "+((h=s==null?void 0:s.Users[0])==null?void 0:h.lastname),a=s==null?void 0:s.Transports[0],c=s==null?void 0:s.numberPackages,l=(p=s==null?void 0:s.ListStates[0])==null?void 0:p.phase;return e.jsxs(E,{secondaryAction:e.jsx(e.Fragment,{children:e.jsxs(Q,{direction:"row",children:[e.jsx(ve,{title:`Vehiculo: ${a.nameTransport}`,bgcolor:((x=t[l])==null?void 0:x.color)??"red",textSecondary:`${((C=t[l])==null?void 0:C.content)??"ERROR"}`,sx:{minWidth:"67px"},children:ir[a.id]}),e.jsx(ve,{title:"Cantidad de paquetes",textSecondary:c,children:e.jsx(on,{})})]})}),alignItems:"flex-start",sx:{width:o?"calc(50% - (8px * 0.2) * 2)":"calc(100% - (8px * 0.2) * 2)",border:1,borderColor:"divider",m:.2},className:"custom-item",children:[e.jsx(A,{children:e.jsx(y,{alt:`Una foto de perfil de ${i}`})}),e.jsx(P,{primary:i,secondary:e.jsxs(f.Fragment,{children:[e.jsx(u,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",noWrap:!0,children:s.destination}),"  — Nombre del mensajero"]})})]})}js.propTypes={shipment:d.object};function ps({data:s,...n}){return e.jsx(X,{component:Q,sx:{bgcolor:"background.paper",flexDirection:"row",flexWrap:"wrap"},...n,children:s.map(o=>e.jsx(js,{shipment:o},o.code))})}ps.propTypes={data:d.array};function cr(){const{auth:s}=K(t=>t.session),[n,o]=H(Bn);return s?e.jsxs(g,{sx:{textAlign:"center"},children:[e.jsx(Je,{children:e.jsx("title",{children:"CourierHub"})}),e.jsx(je,{children:o?e.jsx(ns,{open:!0,sx:{zIndex:1,bgcolor:"background.paper"},children:e.jsx(xe,{})}):e.jsx(ps,{data:n})}),e.jsx(g,{sx:{position:"fixed",right:16,bottom:16},children:e.jsx(rs,{LinkComponent:te,color:"primary",to:"nuevo",children:e.jsx(ln,{})})}),e.jsx(Ps,{})]}):e.jsx(W,{to:"/login"})}const Ne="/assets/logo-6225825a.png",He="/assets/camion-7aec22fa.png";const We=["empleados","Entregas","Solicitudes"],dr=["Perfil","Cuentas","Dashboard","Logout"];function qe(){const[s,n]=f.useState(null),[o,t]=f.useState(null),i=r=>{n(r.currentTarget)},a=r=>{t(r.currentTarget)},c=()=>{n(null)},l=()=>{t(null)};return e.jsx(Qe,{id:"navbarmensajero",position:"static",children:e.jsx(Xe,{maxWidth:"xl",children:e.jsxs(ye,{disableGutters:!0,children:[e.jsx(Ue,{sx:{display:{xs:"none",md:"flex"},mr:1}}),e.jsx(u,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"LOGO"}),e.jsxs(g,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[e.jsx(_,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:i,color:"inherit",children:e.jsx(as,{})}),e.jsx(_e,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!s,onClose:c,sx:{display:{xs:"block",md:"none"}},children:We.map(r=>e.jsx(V,{onClick:c,children:e.jsx(u,{textAlign:"center",children:r})},r))})]}),e.jsx(Ue,{sx:{display:{xs:"flex",md:"none"},mr:1}}),e.jsx(u,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"LOGO"}),e.jsx(g,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:We.map(r=>e.jsx(D,{onClick:c,sx:{my:2,color:"white",display:"block"},children:r},r))}),e.jsxs(g,{sx:{flexGrow:0},children:[e.jsx(Ie,{title:"Open settings",children:e.jsx(_,{onClick:a,sx:{p:0},children:e.jsx(y,{alt:"Remy Sharp",src:Ne})})}),e.jsx(_e,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!o,onClose:l,children:dr.map(r=>e.jsx(V,{onClick:l,children:e.jsx(u,{textAlign:"center",children:r})},r))})]})]})})})}function ur(){return e.jsxs("div",{className:"container",children:[e.jsx(qe,{}),e.jsxs(X,{id:"list",sx:{width:"100%",Width:"100%",bgcolor:"background.paper",height:"100%"},children:[e.jsxs(E,{children:[e.jsx(A,{children:e.jsx(y,{className:"avatar",children:e.jsx(y,{alt:"icono usuario",src:Ne})})}),e.jsx(P,{primary:"Victor Alfonso Alomia",secondary:"Ocupado"}),e.jsx(A,{children:e.jsx(y,{className:"avatar",children:e.jsx(y,{alt:"imagen veiculo",src:He})})})]}),e.jsx(O,{variant:"inset",component:"li"}),e.jsxs(E,{children:[e.jsx(A,{children:e.jsx(y,{children:e.jsx(cn,{})})}),e.jsx(P,{primary:"Johan Andres Ruiz Bermudez",secondary:"Disponible"}),e.jsx(A,{children:e.jsx(y,{className:"avatar",children:e.jsx(y,{alt:"imagen veiculo",src:He})})})]}),e.jsx(O,{variant:"inset",component:"li"}),e.jsxs(E,{children:[e.jsx(A,{children:e.jsx(y,{children:e.jsx(dn,{})})}),e.jsx(P,{primary:"Vacation",secondary:"July 20, 2014"}),e.jsx(A,{children:e.jsx(y,{children:e.jsx(L,{})})})]}),e.jsx(O,{variant:"inset",component:"li"}),e.jsxs(E,{children:[e.jsx(A,{children:e.jsx(y,{children:e.jsx(L,{})})}),e.jsx(P,{primary:"Photos",secondary:"Jan 9, 2014"}),e.jsx(A,{children:e.jsx(y,{children:e.jsx(L,{})})})]}),e.jsx(O,{variant:"inset",component:"li"}),e.jsxs(E,{children:[e.jsx(A,{children:e.jsx(y,{children:e.jsx(L,{})})}),e.jsx(P,{primary:"Photos",secondary:"Jan 9, 2014"}),e.jsx(A,{children:e.jsx(y,{children:e.jsx(L,{})})})]}),e.jsx(O,{variant:"inset",component:"li"}),e.jsxs(E,{children:[e.jsx(A,{children:e.jsx(y,{children:e.jsx(L,{})})}),e.jsx(P,{primary:"Photos",secondary:"Jan 9, 2014"}),e.jsx(A,{children:e.jsx(y,{children:e.jsx(L,{})})})]}),e.jsx(O,{variant:"inset",component:"li"}),e.jsxs(E,{children:[e.jsx(A,{children:e.jsx(y,{children:e.jsx(L,{})})}),e.jsx(P,{primary:"Photos",secondary:"Jan 9, 2014"}),e.jsx(A,{children:e.jsx(y,{children:e.jsx(L,{})})})]}),e.jsx(O,{variant:"inset",component:"li"}),e.jsxs(E,{children:[e.jsx(A,{children:e.jsx(y,{children:e.jsx(L,{})})}),e.jsx(P,{primary:"Photos",secondary:"Jan 9, 2014"}),e.jsx(A,{children:e.jsx(y,{children:e.jsx(L,{})})})]}),e.jsx(O,{variant:"inset",component:"li"})]})]})}function xr(){const[s,n]=f.useState({username:"",password:""}),[o,t]=f.useState(!1),[i,a]=f.useState(!1),c=le(),l=()=>{t(!o)},r=x=>{x.preventDefault()},h=async x=>{a(!0),x.preventDefault();try{const C=await Fn(s),{data:R,status:j}=C;j==200&&(w.dispatch(Tn({...R.user},R.token)),c("/dashboard"))}finally{a(!1)}},p=x=>{const{id:C,value:R}=x.target;n(j=>({...j,[C]:R}))};return e.jsxs("form",{onSubmit:h,children:[e.jsx(U,{label:"Usuario",type:"text",id:"username",defaultValue:"",onChange:p,fullWidth:!0,margin:"normal"}),e.jsx(U,{label:"Contraseña",id:"password",type:o?"text":"password",defaultValue:"",onChange:p,fullWidth:!0,margin:"normal",InputProps:{endAdornment:e.jsx(_,{onClick:l,onMouseDown:r,edge:"end",children:o?e.jsx(un,{}):e.jsx(xn,{})})}}),i?e.jsx(Zs,{}):e.jsx(D,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,autoFocus:!0,children:"Iniciar Sesión"})]})}const hr="/assets/banner_login-3ce50afa.png";function jr(){const{auth:s}=K(n=>n.session);return s?e.jsx(W,{to:"/dashboard"}):e.jsxs(g,{id:"login-page",children:[e.jsx(Je,{children:e.jsx("title",{children:"CourierHub - Inicio de sesion"})}),e.jsx(ze,{component:"img",src:hr,alt:"Banner",id:"banner"}),e.jsxs(g,{children:[e.jsx(u,{variant:"h4",children:"¡Hola de nuevo!"}),e.jsx(u,{variant:"h6",children:"Inicia sesión aquí para continuar tu aventura"}),e.jsx(xr,{}),e.jsx(u,{sx:{marginTop:"32px"},children:"¿Olvidaste tu contraseña? Restablecela aqui"}),e.jsx(Ie,{title:"Sobre nosotros, CourierHub",children:e.jsx(ze,{component:"img",src:Ne,alt:"Logo de la empresa",id:"logo"})})]})]})}function pr(){const s=le();return f.useEffect(()=>{w.dispatch(An()),s("/login")},[]),null}function mr(){const s=Os();return e.jsxs("div",{id:"error-page",children:[e.jsx("h1",{children:"Oops!"}),e.jsx("p",{children:"Lo sentimos, se ha producido un error inesperado."}),e.jsx("p",{children:e.jsx("i",{children:s?s.statusText||s.message:"404 NOT_FOUND"})})]})}function ms(s){return s!==void 0&&s!==""}function ne(){const s=Js();return ss(s.breakpoints.down("md"))}function fs({input:s,control:n,rules:o}){const t=ne();return e.jsx(he,{render:({field:i})=>{var a;return e.jsxs(Pe,{sx:{width:t?"calc(100% - 8px)":"calc(50% - 8px)",m:.5,...s==null?void 0:s.sx},children:[e.jsx(Oe,{children:s.label}),e.jsxs(Ee,{required:(a=s==null?void 0:s.rules)==null?void 0:a.required,value:(i==null?void 0:i.value)??"",label:s==null?void 0:s.label,onChange:i.onChange,children:[e.jsx(V,{value:!0,children:"SI"}),e.jsx(V,{value:!1,children:"NO"})]}),e.jsx(we,{children:" "})]})},name:s.id,control:n,rules:{...o,validate:ms}})}fs.propTypes={input:d.object.isRequired,control:d.any,rules:d.object};const Ve={cityId:Un,stateId:$n,transportId:Hn};function gs({input:s,control:n,rules:o,watchRef:t}){var i;return s.dependsOn?t.current(s.dependsOn)?e.jsx(Ce,{input:s,control:n,rules:o,dependencyValue:t.current(s.dependsOn)}):e.jsxs(Pe,{disabled:!0,sx:{width:"calc(50% - 8px)",m:.5,...s==null?void 0:s.sx},children:[e.jsx(Oe,{children:s.label}),e.jsx(Ee,{required:(i=s==null?void 0:s.rules)==null?void 0:i.required,value:"",label:s==null?void 0:s.label,children:e.jsx(V,{disabled:!0,children:"Cargando..."})}),e.jsx(we,{children:" "})]}):e.jsx(Ce,{input:s,control:n,rules:o,watchRef:t})}function Ce({input:s,control:n,rules:o,dependencyValue:t}){const i=t?()=>Ve[s.id](t):Ve[s.id],a=t?[t]:[],[c,l]=H(i,a),r=s.label+(o.required?" *":""),h=ne();return l?e.jsx(de,{sx:{width:h?"calc(100% - 8px)":"calc(50% - 8px)",height:56,m:.5,...s==null?void 0:s.sx}}):e.jsx(he,{render:({field:p})=>{var x;return e.jsxs(Pe,{sx:{width:h?"calc(100% - 8px)":"calc(50% - 8px)",m:.5,...s==null?void 0:s.sx},children:[e.jsx(Oe,{children:r}),e.jsx(Ee,{required:(x=s==null?void 0:s.rules)==null?void 0:x.required,value:(p==null?void 0:p.value)??"",label:r,onChange:p.onChange,children:l?e.jsx(V,{disabled:!0,children:"Cargando..."}):c==null?void 0:c.map(C=>e.jsx(V,{value:C.value,children:C.label},C.value))}),e.jsx(we,{children:" "})]})},name:s.id,control:n,rules:{...o,validate:ms}})}Ce.propTypes={input:d.object.isRequired,control:d.any,rules:d.object,dependencyValue:d.any};gs.propTypes={input:d.object.isRequired,control:d.any,rules:d.object,watchRef:d.any};function bs(s,n){var i,a;const{id:o}=n;if(s[o]===void 0)return" ";const{type:t}=s[o];switch(t){case"required":return((i=n==null?void 0:n.helpers)==null?void 0:i[t])??"Completa este campo";case"pattern":return((a=n==null?void 0:n.helpers)==null?void 0:a[t])??"Por favor, revisa este campo"}}function ys({input:s,control:n,rules:o,sx:t}){const i=ne(),a=l=>{const{target:{value:r}}=l;return r===""||(l.target.value=r.trim()),l},c=(l,r)=>{l.onChange(a(r))};return e.jsx(he,{render:({field:l,formState:{errors:r}})=>{var h;return e.jsx(U,{label:s.label,required:(h=s==null?void 0:s.rules)==null?void 0:h.required,error:r[s.id]!==void 0,helperText:bs(r,s),value:l.value??"",onChange:l.onChange,onBlur:p=>c(l,p),inputRef:l.ref,autoComplete:"none",sx:{width:i?"calc(100% - 8px)":"calc(50% - 8px)",m:.5,mb:0,...t}})},name:s.id,control:n,rules:{...o}})}ys.propTypes={input:d.object.isRequired,control:d.any,rules:d.object,sx:d.object};function Ss({input:s,control:n,rules:o,sx:t}){const i=ne(),a=l=>{const{target:{value:r}}=l;return r===""||(l.target.value=r.trim()),l},c=(l,r)=>{l.onChange(a(r))};return e.jsx(he,{render:({field:l,formState:{errors:r}})=>{var h;return e.jsx(U,{required:(h=s==null?void 0:s.rules)==null?void 0:h.required,label:s.label,autoComplete:"none",error:r[s.id]!==void 0,helperText:bs(r,s),value:l.value??"",onChange:l.onChange,onBlur:p=>c(l,p),inputRef:l.ref,sx:{width:i?"calc(100% - 8px)":"calc(50% - 8px)",m:.5,...t}})},name:s.id,control:n,rules:o})}Ss.propTypes={input:d.object.isRequired,control:d.any,rules:d.object,sx:d.object};const vs={persona:[{label:"Telefono",id:"phone",type:"numeric",rules:{required:!0,pattern:/^\d+$/},helpers:{pattern:"Solo se permiten numeros"}},{label:"Nombres",id:"firstname",rules:{required:!0,pattern:/^(?=.*[a-zA-Z])\S.*$/}},{label:"Apellidos",id:"lastname",rules:{required:!0,pattern:/^(?=.*[a-zA-Z])\S.*$/}},{label:"Direccion",id:"address",rules:{required:!0}},{label:"Email",id:"email",rules:{required:!0,pattern:/^[a-zA-Z0-9._%+-]+@(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}$/}},{label:"Nueva contraseña",id:"password",rules:{required:!1}},{label:"Departamento",id:"stateId",type:"select",rules:{required:!0}},{label:"Ciudad",id:"cityId",type:"select",dependsOn:"stateId",rules:{required:!0}}],request:[{label:"Descripcion del pedido",id:"description",rules:{required:!0}},{label:"Origen",id:"origin",rules:{required:!0}},{label:"Destino",id:"destination",rules:{required:!0}},{label:"Numero de paquetes",id:"numberPackages",type:"numeric",rules:{required:!0,pattern:/^\d+$/},helpers:{pattern:"Solo se permiten numeros"}},{label:"Tipo de transporte",id:"transportId",type:"select",rules:{required:!0}}]},fr={default:ys,select:gs,numeric:Ss,boolean:fs};function Le(s){const{arr:n,...o}=s;return e.jsx(Q,{flexDirection:"row",justifyContent:"center",flexWrap:"wrap",children:n.map(t=>{const i=fr[t.type??"default"];return e.jsx(i,{input:t,...o,rules:t.rules},t.id)})})}Le.propTypes={arr:d.array.isRequired};function Ge(s){return Object.fromEntries(Object.entries(s).filter(([o,t])=>t!==void 0&&t!==""))}function Cs(){const[s,n]=H(_n);return n?e.jsx(ns,{open:!0,children:e.jsx(xe,{})}):e.jsx(As,{userdata:s})}function As({userdata:s}){const n=le(),{handleSubmit:o,control:t,watch:i}=is({defaultValues:{...s}}),a=f.useRef(i),c=Te(),l=async h=>{console.log(h),console.log(Ge(h));const{status:p,response:x}=await zn(Ge(h));p===200?(c(J("¡Cliente añadido correctamente!","success")),r()):c(J((x==null?void 0:x.data)??"NO se ha podido añadir el cliente","warning"))},r=()=>{n(-1)};return e.jsxs(g,{open:!0,fullWidth:!0,maxWidth:"lg",children:[e.jsx(ee,{children:"Editar perfil"}),e.jsx(se,{children:e.jsx("form",{onSubmit:o(l),children:e.jsx(Le,{arr:vs.persona,control:t,watchRef:a})})}),e.jsxs(ke,{children:[e.jsx(D,{onClick:r,children:"Cancelar"}),e.jsx(D,{onClick:o(l),children:"Guardar"})]})]})}As.propTypes={userdata:d.any};function gr(){return e.jsx(je,{children:e.jsxs(g,{children:[e.jsx(Cs,{}),e.jsx(g,{sx:{position:"fixed",right:16,bottom:16},children:e.jsx(rs,{LinkComponent:te,color:"primary",to:"edit",children:e.jsx(os,{})})})]})})}function Y(s,n,o,t,i){return{name:s,direccion:n,cantidad:o,descripcion:t,hora:i,history:[{date:"2020-01-05",customerId:"11091700",amount:3},{date:"2020-01-02",customerId:"Anonymous",amount:1}]}}function Ts(s){const{row:n}=s,[o,t]=f.useState(!1);return e.jsxs(f.Fragment,{children:[e.jsxs($,{sx:{"& > *":{borderBottom:"unset"}},children:[e.jsx(S,{children:e.jsx(_,{"aria-label":"expand row",size:"small",onClick:()=>t(!o),children:o?e.jsx(hn,{}):e.jsx(jn,{})})}),e.jsx(S,{component:"th",scope:"row",children:n.name}),e.jsx(S,{align:"right",children:n.calories}),e.jsx(S,{align:"right",children:n.fat}),e.jsx(S,{align:"right",children:n.carbs}),e.jsx(S,{align:"right",children:n.protein})]}),e.jsx($,{children:e.jsx(S,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:e.jsx(Ks,{in:o,timeout:"auto",unmountOnExit:!0,children:e.jsxs(g,{sx:{margin:1},children:[e.jsx(u,{variant:"h6",gutterBottom:!0,component:"div",children:"History"}),e.jsxs(ae,{size:"small","aria-label":"purchases",children:[e.jsx(oe,{children:e.jsxs($,{children:[e.jsx(S,{children:"Date"}),e.jsx(S,{children:"Customer"}),e.jsx(S,{align:"right",children:"Amount"}),e.jsx(S,{align:"right",children:"Total price ($)"})]})}),e.jsx(ie,{children:n.history.map(i=>e.jsxs($,{children:[e.jsx(S,{component:"th",scope:"row",children:i.date}),e.jsx(S,{children:i.customerId}),e.jsx(S,{align:"right",children:i.amount}),e.jsx(S,{align:"right",children:Math.round(i.amount*n.price*100)/100})]},i.date))})]})]})})})})]})}Ts.propTypes={row:d.shape({calories:d.number.isRequired,carbs:d.number.isRequired,fat:d.number.isRequired,history:d.arrayOf(d.shape({amount:d.number.isRequired,customerId:d.string.isRequired,date:d.string.isRequired})).isRequired,name:d.string.isRequired,price:d.number.isRequired,protein:d.number.isRequired}).isRequired};const br=[Y("Frozen yoghurt",159,6,24,4),Y("Ice cream sandwich",237,9,37,4.3),Y("Eclair",262,16,24,6),Y("Cupcake",305,3.7,67,4.3),Y("Gingerbread",356,16,49,3.9)];function yr(){return e.jsx(ts,{component:es,children:e.jsxs(ae,{"aria-label":"collapsible table",children:[e.jsx(oe,{children:e.jsxs($,{children:[e.jsx(S,{}),e.jsx(S,{children:"Dessert (100g serving)"}),e.jsx(S,{align:"right",children:"Calories"}),e.jsx(S,{align:"right",children:"Fat (g)"}),e.jsx(S,{align:"right",children:"Carbs (g)"}),e.jsx(S,{align:"right",children:"Protein (g)"})]})}),e.jsx(ie,{children:br.map(s=>e.jsx(Ts,{row:s},s.name))})]})})}function Ds(s){const[n,o]=f.useState(s.datos),t="USTED NO HA REALIZADO PEDIDOS TODAVÍA",i="USTED NO HA REGISTRADO SUCURSALES TODAVÍA",a=Be(S)(({theme:r})=>({[`&.${Me.head}`]:{backgroundColor:r.palette.primary.dark,color:r.palette.common.white},[`&.${Me.body}`]:{fontSize:13}})),c=Be($)(({theme:r})=>({"&:nth-of-type(odd)":{backgroundColor:r.palette.action.hover}})),l=(r,h)=>{r=="editar"?(s.setTypeModal("editar"),s.setOpen(!0),s.setValores({nit:h.nit,name:h.name,address:h.address,phone:h.phone})):r=="eliminar"&&(s.setTypeModal("eliminar"),s.setOpen(!0),s.setValores({nit:h.nit}))};return e.jsx(ts,{sx:{maxHeight:600},children:s.tipo=="historial"?e.jsxs(ae,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[e.jsx(oe,{children:e.jsxs($,{children:[e.jsx(a,{align:"center",children:"Fecha Solicitud"}),e.jsx(a,{align:"center",children:"Número Paquetes"}),e.jsx(a,{align:"center",children:"Descripción"}),e.jsx(a,{align:"center",children:"Dirección De Entrega"}),e.jsx(a,{align:"center",children:"Mensajero"})]})}),e.jsx(ie,{children:n!==null?n.map(r=>e.jsxs(c,{children:[e.jsx(a,{component:"th",scope:"row","data-titulo":"Fecha Solicitud",align:"center",size:"medium",children:r.fecha}),e.jsx(a,{"data-titulo":"Número De Paquetes",align:"center",children:r.paquetes}),e.jsx(a,{"data-titulo":"Descripción",align:"center",children:r.descripcion}),e.jsx(a,{"data-titulo":"Destino",align:"center",children:r.direccion}),e.jsx(a,{"data-titulo":"Mensajero",align:"center",children:r.mensajero})]},r.fecha)):e.jsxs(c,{children:[e.jsx(a,{component:"th",scope:"row","data-titulo":"Fecha Solicitud",align:"center",children:n==null&alert(t)}),e.jsx(a,{"data-titulo":"Número De Paquetes",align:"center",children:" "}),e.jsx(a,{"data-titulo":"Descripción",align:"center",children:" "}),e.jsx(a,{"data-titulo":"Destino",align:"center",children:" "}),e.jsx(a,{"data-titulo":"Mensajero",align:"center",children:" "})]},"null")})]}):e.jsxs(ae,{stickyHeader:!0,"aria-label":"customized table",size:"small",children:[e.jsx(oe,{children:e.jsxs($,{children:[e.jsx(a,{align:"center",children:"Nit"}),e.jsx(a,{align:"center",children:"Nombre"}),e.jsx(a,{align:"center",children:"Dirección"}),e.jsx(a,{align:"center",children:"Teléfono"}),e.jsx(a,{align:"center",children:"Opciones"})]})}),e.jsx(ie,{children:n!==null?n.map(r=>e.jsxs(c,{children:[e.jsx(a,{component:"th",scope:"row","data-title":"Nit",align:"center",children:r.nit}),e.jsx(a,{"data-title":"Nombre",align:"center",children:r.name}),e.jsx(a,{"data-title":"Dirección",align:"center",children:r.address}),e.jsx(a,{"data-title":"Teléfono",align:"center",children:r.phone}),e.jsxs(a,{"data-title":"Opciones",align:"center",children:[e.jsx(_,{onClick:()=>l("editar",r),"aria-label":"edit",children:e.jsx(os,{})}),e.jsx(_,{onClick:()=>l("eliminar",r),"aria-label":"delete",children:e.jsx(pn,{})})]})]},r.nit)):e.jsxs(c,{children:[e.jsx(a,{component:"th",scope:"row","data-titulo":"Nit",align:"center",size:"medium",children:n==null&alert(i)}),e.jsx(a,{"data-titulo":"Nombre",align:"center",children:" "}),e.jsx(a,{"data-titulo":"Dirección",align:"center",children:" "}),e.jsx(a,{"data-titulo":"Teléfono",align:"center",children:" "}),e.jsx(a,{"data-titulo":"Opciones",align:"center",children:" "})]},"null")})]})})}function Sr(){const[s,n]=f.useState(!1),[o,t]=f.useState(""),i="sucursales",a=w.getState().session.user.phone,[c,l]=f.useState(!1),[r,h]=f.useState(!1),[p,x]=f.useState([!1]),[C,R]=H(()=>Vn(a),p),[j,M]=f.useState({nit:"",name:"",address:"",phone:""}),[m,k]=f.useState({nit:!1,name:!1,address:!1,phone:!1}),z=()=>l(!1),re=()=>h(!1),pe=F=>{F=="añadir"?(t("añadir"),n(!0),x([!1])):F=="editar"?(t("editar"),n(!0),x([!1])):F=="eliminar"&&(t("eliminar"),n(!0),x([!1]))},N=()=>{n(!1),M(""),k({nit:!1,name:!1,address:!1,phone:!1})},G=F=>{M({...j,[F.target.name]:F.target.value}),k({nit:!1,name:!1,address:!1,phone:!1})},v=F=>{F.preventDefault(),console.log("esto es valida",m),o=="eliminar"?Jn(j.nit)?(N(),l(!0),x([!0])):(N(),h(!0)):j.nit==""&&j.name==""&&j.address==""&&j.phone==""?k({nit:!0,name:!0,address:!0,phone:!0}):j.nit==""?k({...m,nit:!0}):j.name==""?k({...m,name:!0}):j.address==""?k({...m,address:!0}):j.phone==""?k({...m,phone:!0}):(k({nit:!1,name:!1,address:!1,phone:!1}),o=="añadir"?(M({...j,customerId:C[0].customerId}),Gn(j)?(N(),l(!0),x([!0])):(N(),h(!0))):o=="editar"&&(Zn(j)?(N(),l(!0),x([!0])):(N(),h(!0))))},q={position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"background.paper",boxShadow:24,flexGrow:1,padding:4};return e.jsxs("div",{id:"panel",children:[e.jsxs(Q,{spacing:2,sx:{width:"100%"},children:[e.jsx(be,{open:c,autoHideDuration:6e3,onClose:z,children:e.jsx(Z,{onClose:z,severity:"success",sx:{width:"100%"},children:"¡Todo Ha Sido Exitoso!"})}),e.jsx(be,{open:r,autoHideDuration:6e3,onClose:re,children:e.jsx(Z,{onClose:re,severity:"error",sx:{width:"100%"},children:"¡Ha Ocurrido Un Error, Intentalo Más Tarde!"})})]}),e.jsx("div",{id:"btn",children:e.jsx(D,{id:"miboton",onClick:()=>pe("añadir"),variant:"outlined",size:"large",children:"CREAR SUCURSAL"})}),e.jsx(Qs,{disableEscapeKeyDown:!0,hideBackdrop:!0,open:s,onClose:N,"aria-labelledby":"Ventana Modal",children:e.jsxs(g,{sx:q,children:[e.jsx(u,{id:"tituloModal",align:"center",variant:"h6",component:"h2",children:o=="añadir"?"Crea Una Nueva Sucursal":o=="editar"?"Modifica La Sucursal":o=="eliminar"&&"¿Desea Eliminar La Sucursal?"}),o==""||o=="añadir"||o=="editar"?e.jsxs(I,{container:!0,spacing:1,justifySelf:"center",children:[o=="añadir"&&e.jsxs(I,{item:!0,xs:12,children:[e.jsx(U,{variant:"outlined",margin:"normal",label:"Nit",name:"nit",type:"text",defaultValue:j.nit,onChange:G,size:"small",autoComplete:"off",fullWidth:!0}),m.nit!==!1&&e.jsx("span",{children:"Digite el nit de la sucursal"})]}),e.jsxs(I,{item:!0,xs:12,children:[e.jsx(U,{variant:"outlined",margin:"normal",label:"Nombre",name:"name",type:"text",defaultValue:j.name,onChange:G,size:"small",autoComplete:"off",fullWidth:!0}),m.name!==!1&&e.jsx("span",{children:"Digite el nombre de la sucursal"})]}),e.jsxs(I,{item:!0,xs:12,children:[e.jsx(U,{variant:"outlined",margin:"normal",label:"Dirección",name:"address",type:"text",defaultValue:j.address,onChange:G,size:"small",autoComplete:"off",fullWidth:!0}),m.address!==!1&&e.jsx("span",{children:"Digite la dirección de la sucursal"})]}),e.jsxs(I,{item:!0,xs:12,children:[e.jsx(U,{variant:"outlined",margin:"normal",label:"Teléfono",name:"phone",type:"number",defaultValue:j.phone,onChange:G,size:"small",autoComplete:"off",fullWidth:!0}),m.phone!==!1&&e.jsx("span",{children:"Digite el teléfono de la sucursal"})]}),e.jsxs("div",{id:"btns",children:[e.jsx(D,{id:"aceptar",onClick:v,children:"Aceptar"}),e.jsx(D,{id:"cancelar",onClick:N,children:"Cancelar"})]})]}):e.jsxs(I,{container:!0,spacing:1,justifySelf:"center",children:[e.jsxs(u,{id:"descripcion",align:"center",variant:"h6",component:"h2",children:["Se eliminará la sucursal identificada con el nit: ",j.nit]}),e.jsxs("div",{id:"btns",children:[e.jsx(D,{id:"aceptar",onClick:v,children:"Aceptar"}),e.jsx(D,{id:"cancelar",onClick:N,children:"Cancelar"})]})]})]})}),R?e.jsx("div",{id:"tabla",children:e.jsx(g,{sx:{display:"flex"},children:e.jsx(xe,{})})}):e.jsx("div",{id:"tabla",children:e.jsx(Ds,{datos:C,tipo:i,setValores:M,setTypeModal:t,setOpen:n})})]})}function vr(){const{auth:s}=K(n=>n.session);return s?e.jsxs("div",{className:"contenedorPpal",children:[e.jsx(qe,{}),e.jsx(Sr,{})]}):e.jsx(W,{to:"/dashboard"})}function Cr(){const s=w.getState().session.user.phone,[n,o]=H(()=>Wn(s)),t="historial";return e.jsx("div",{id:"contenedorPpal",children:o?e.jsx("div",{id:"tabla",children:e.jsx(g,{sx:{display:"flex"},children:e.jsx(xe,{})})}):e.jsx("div",{id:"tabla",children:e.jsx(Ds,{datos:n,tipo:t})})})}function Ar(){const{auth:s}=K(n=>n.session);return s?e.jsxs("div",{id:"mainContainer",children:[e.jsx(qe,{}),e.jsx("div",{id:"component",children:e.jsx(Cr,{})})]}):e.jsx(W,{to:"/dashboard"})}function Tr(){const{handleSubmit:s,control:n}=is(),o=ne(),t=le(),i=Te(),a=async l=>{console.log(l);const{status:r}=await Mn(l);r==200?(i(J("¡El pedido ha sido solicitado!","success")),c()):i(J("Se ha producido un error, intentalo mas tarde","error"))},c=()=>{t(-1)};return e.jsxs(ue,{open:!0,onClose:c,fullScreen:o,children:[e.jsx(ee,{children:"Solicitar un envio"}),e.jsxs(se,{children:[e.jsx(Xs,{sx:{mb:1},children:"Para solicitar un nuevo envio, por favor completa toda la informacion siguiente"}),e.jsx("form",{onSubmit:s(a),children:e.jsx(Le,{arr:vs.request,control:n})})]}),e.jsxs(ke,{children:[e.jsx(D,{onClick:c,children:"Cancelar"}),e.jsx(D,{onClick:s(a),children:"Solicitar"})]})]})}function Dr(){return e.jsx(e.Fragment,{children:e.jsx(Tr,{})})}const Ae=[{path:"/dashboard",label:"Inicio",role:B.CLIENTE,element:e.jsx(cr,{}),children:[{path:"nuevo",element:e.jsx(Dr,{})}]},{path:"/nuevospedidos",label:"Nuevos pedidos",role:B.ADMINISTRADOR,element:e.jsx(yr,{})},{path:"/mensajero",label:"Mensajeros",role:B.ADMINISTRADOR,element:e.jsx(ur,{})},{path:"/login",element:e.jsx(jr,{})},{path:"/entregas",label:"Entregas",role:B.MENSAJERO,element:e.jsx(or,{})},{path:"/profile",label:"Perfil",role:B.ALL,element:e.jsx(gr,{}),children:[{path:"edit",element:e.jsx(Cs,{})}]},{path:"/sucursales",label:"Sucursales",role:B.CLIENTE,element:e.jsx(vr,{})},{path:"/historialpedidos",label:"Historial",role:B.CLIENTE,element:e.jsx(Ar,{})},{path:"/logout",label:"Cerrar sesion",role:B.ALL,element:e.jsx(pr,{})},{children:[{element:e.jsx(W,{to:"/dashboard"}),index:!0},{path:"404",element:e.jsx(mr,{})},{path:"*",element:e.jsx(W,{to:"/404"})}]},{path:"*",element:e.jsx(W,{to:"/404",replace:!0})}];const kr={common:{black:"#000",white:"#fff",rose:"#FFD6BA"},primary:{main:"#555B6E",contrastText:"#fff"},secondary:{main:"#89B0AE",contrastText:"#000"},background:{paper:"#FAF9F9"}};ks.propTypes={children:d.node};function ks({children:s}){const n=f.useMemo(()=>({palette:kr}),[]),o=Ys(n);return e.jsx(Es,{injectFirst:!0,children:e.jsxs(en,{theme:o,children:[e.jsx(Ke,{}),s]})})}const Ir=Ls(Ae);ws.createRoot(document.getElementById("root")).render(e.jsx(qs,{store:w,children:e.jsx(Bs,{loading:null,persistor:En,children:e.jsx(Ns,{children:e.jsxs(ks,{children:[e.jsx(yn,{}),e.jsx(Rs,{router:Ir})]})})})}));
